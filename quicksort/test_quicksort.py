import unittest

from quicksort import quicksort


class TestQuicksort(unittest.TestCase):

    def test_empty(self):
        arr = []
        quicksort(arr)
        self.assertEqual([], arr)

    def test_one(self):
        arr = [5]
        quicksort(arr)
        self.assertEqual([5], arr)

    def test_two(self):
        arr = [8, 3]
        quicksort(arr)
        self.assertEqual([3, 8], arr)

    def test_three(self):
        arr = [9, 1, 4]
        quicksort(arr)
        self.assertEqual([1, 4, 9], arr)

    def test_reversed(self):
        arr = [9, 8, 7, 6, 5, 4, 3, 2, 1]
        quicksort(arr)
        self.assertEqual([1, 2, 3, 4, 5, 6, 7, 8, 9], arr)

    def test_almost_sorted(self):
        arr = [1, 2, 3, 5, 4, 6, 7, 8, 9, 10, 12, 11]
        quicksort(arr)
        self.assertEqual([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], arr)

    def test_already_sorted(self):
        arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        quicksort(arr)
        self.assertEqual([1, 2, 3, 4, 5, 6, 7, 8, 9], arr)

    def test_all_same(self):
        arr = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
        quicksort(arr)
        self.assertEqual([2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], arr)

    def test_duplicates(self):
        arr = [4, 4, 2, 1, 3, 2, 5, 6, 7, 5, 5, 7]
        quicksort(arr)
        self.assertEqual([1, 2, 2, 3, 4, 4, 5, 5, 5, 6, 7, 7], arr)

    def test_negatives(self):
        arr = [-2, 5, 1, -3, 0, 9, -10, -9, 4]
        quicksort(arr)
        self.assertEqual([-10, -9, -3, -2, 0, 1, 4, 5, 9], arr)

    def test_random(self):
        arr = [31631, -45802, 27919, 44724, 29655, 12327, -61545, -19037, 63000, 5143, 38153, -46287, -55437, 53186,
               -22391, 7667, 37012, 64504, 25969, 39641, 17104, -4602, 62017, -10035, 31680, -13650, -48154, -21098,
               -5217, -17320, -40385, -16455, 57799, -40970, 3229, -8900, -51526, 10098, -64395, 3394, -32717, 4089,
               -35967, 392, -30948, -34934, 40824, -45939, 32409, -514, -6982, 61060, 54297, -49105, -6051, -53543,
               -2606, 962, 52919, 59046, -19296, -16385, 15759, -18729, 17032, 30191, -50309, -55972, -32196, -4791,
               -37770, 47713, 21050, -64163, 63157, -13067, 41442, 1736, -42714, 1721, 46872, 8744, -27007, 1189, 26860,
               25357, -23439, 17821, 46384, -58682, 17524, 63534, 17683, -40636, 47266, -12008, -11515, 51963, -35847,
               -45696]
        quicksort(arr)
        self.assertEqual(
            [-64395, -64163, -61545, -58682, -55972, -55437, -53543, -51526, -50309, -49105, -48154, -46287, -45939,
             -45802, -45696, -42714, -40970, -40636, -40385, -37770, -35967, -35847, -34934, -32717, -32196, -30948,
             -27007, -23439, -22391, -21098, -19296, -19037, -18729, -17320, -16455, -16385, -13650, -13067, -12008,
             -11515, -10035, -8900, -6982, -6051, -5217, -4791, -4602, -2606, -514, 392, 962, 1189, 1721, 1736, 3229,
             3394, 4089, 5143, 7667, 8744, 10098, 12327, 15759, 17032, 17104, 17524, 17683, 17821, 21050, 25357, 25969,
             26860, 27919, 29655, 30191, 31631, 31680, 32409, 37012, 38153, 39641, 40824, 41442, 44724, 46384, 46872,
             47266, 47713, 51963, 52919, 53186, 54297, 57799, 59046, 61060, 62017, 63000, 63157, 63534, 64504],
            arr
        )


if __name__ == '__main__':
    unittest.main()
